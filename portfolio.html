<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Work | Propix Lk</title>
    <meta name="description" content="Explore our extensive portfolio of graphic design projects.">
    
    <link rel="apple-touch-icon" sizes="180x180" href="assets/img/Favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/img/Favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/img/Favicon/favicon-16x16.png">
    <link rel="shortcut icon" href="assets/img/Favicon/favicon.ico">
    <meta name="theme-color" content="#ffffff">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            100: '#03abec',
                            200: '#1590ef',
                            300: '#1c86f1',
                            400: '#2e69f4',
                            500: '#3d53f7',
                            600: '#424cf6',
                            900: '#1a237e', 
                        },
                        dark: {
                            bg: '#0b1121', 
                            card: '#1e293b',
                            text: '#f8fafc',
                            muted: '#cbd5e1'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Space Grotesk', 'sans-serif'],
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.5s ease-out forwards',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Shared Styles from Index */
        body {
            cursor: none;
            overflow-x: hidden; /* Ensure consistent width */
        }
        @media (pointer: coarse) {
            body { cursor: auto; }
            .custom-cursor { display: none; }
        }

        .custom-cursor {
            position: fixed;
            top: 0; left: 0; width: 20px; height: 20px;
            border: 2px solid #424cf6; border-radius: 50%;
            pointer-events: none; transform: translate(-50%, -50%);
            z-index: 9999; mix-blend-mode: difference;
            transition: transform 0.1s ease, width 0.2s, height 0.2s, background-color 0.2s;
        }
        .custom-cursor.hovered {
            width: 40px; height: 40px;
            background-color: rgba(66, 76, 246, 0.3); border-color: transparent;
        }

        .glass {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }
        .dark .glass {
            background: rgba(11, 17, 33, 0.9);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Portfolio Specific Styles */
        .masonry-grid {
            column-gap: 1.5rem; /* Match index page gap feel */
        }
        .masonry-item {
            break-inside: avoid;
            margin-bottom: 1.5rem;
        }
        
        /* Disable selection and download interactions */
        .protected-image {
            -webkit-user-drag: none;
            user-select: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }

        /* Image Loading State */
        .img-loading {
            background: #e2e8f0;
            animation: pulse 1.5s infinite;
        }
        .dark .img-loading {
            background: #1e293b;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* Filter Button Active State */
        .filter-btn.active {
            background-color: #424cf6;
            color: white;
            border-color: #424cf6;
        }

        /* Smooth Mobile Menu */
        #mobile-menu {
            transition: all 0.3s ease-in-out;
            transform-origin: top;
        }
        #mobile-menu.hidden {
            opacity: 0; transform: scaleY(0); display: none;
        }
        #mobile-menu:not(.hidden) {
            opacity: 1; transform: scaleY(1); display: block;
        }
        
        /* Hide scrollbar for filter container */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="antialiased relative bg-white text-gray-900 dark:bg-dark-bg dark:text-dark-text transition-colors duration-300 overflow-x-hidden">

    <!-- Cursor -->
    <div class="custom-cursor hidden md:block" id="customCursor"></div>

    <!-- Navigation (Identical to Index) -->
    <nav class="fixed w-full z-50 glass transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex-shrink-0 flex items-center cursor-pointer hoverable" onclick="window.location.href='index.html'">
                    <img src="assets/img/Sitelogo.png" alt="Propix Logo" class="h-8 md:h-9 lg:h-10 w-auto object-contain block dark:hidden transition-all"> 
                    <img src="assets/img/Sitelogow.png" alt="Propix Logo" class="h-8 md:h-9 lg:h-10 w-auto object-contain hidden dark:block transition-all"> 
                </div>
                
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="index.html" class="text-gray-700 dark:text-gray-200 hover:text-brand-600 dark:hover:text-brand-400 font-medium transition hoverable">Home</a>
                    <a href="index.html#about" class="text-gray-700 dark:text-gray-200 hover:text-brand-600 dark:hover:text-brand-400 font-medium transition hoverable">About</a>
                    <a href="portfolio.html" class="text-brand-600 dark:text-brand-400 font-bold transition hoverable">Work</a>
                    <a href="index.html#services" class="text-gray-700 dark:text-gray-200 hover:text-brand-600 dark:hover:text-brand-400 font-medium transition hoverable">Services</a>
                    <a href="index.html#contact" class="text-gray-700 dark:text-gray-200 hover:text-brand-600 dark:hover:text-brand-400 font-medium transition hoverable">Contact</a>
                    <button onclick="toggleDarkMode()" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition text-gray-600 dark:text-brand-400 hoverable">
                        <i data-lucide="moon" class="w-5 h-5 dark:hidden"></i>
                        <i data-lucide="sun" class="w-5 h-5 hidden dark:block"></i>
                    </button>
                    <a href="https://wa.me/message/JGOBR5KKO5UAF1" class="px-6 py-2.5 bg-brand-600 text-white rounded-full font-medium hover:bg-brand-500 transition shadow-lg shadow-brand-500/30 hoverable">
                        Let's Talk
                    </a>
                </div>

                <div class="md:hidden flex items-center gap-2">
                     <button onclick="toggleDarkMode()" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition text-gray-600 dark:text-brand-400">
                        <i data-lucide="moon" class="w-5 h-5 dark:hidden"></i>
                        <i data-lucide="sun" class="w-5 h-5 hidden dark:block"></i>
                    </button>
                    <button id="mobile-menu-btn" class="p-2 text-gray-700 dark:text-white hover:text-brand-600 focus:outline-none">
                        <i data-lucide="menu" class="w-8 h-8"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="mobile-menu" class="hidden md:hidden bg-white dark:bg-dark-card absolute w-full border-b border-gray-100 dark:border-gray-700 shadow-xl z-40">
            <div class="px-4 pt-4 pb-8 space-y-3 flex flex-col items-center text-center">
                <a href="index.html" class="block w-full px-3 py-4 text-lg font-medium text-gray-700 dark:text-gray-200 hover:text-brand-600 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl">Home</a>
                <a href="portfolio.html" class="block w-full px-3 py-4 text-lg font-bold text-brand-600 dark:text-brand-400 bg-brand-50 dark:bg-brand-900/10 rounded-xl">Work</a>
                <a href="index.html#services" class="block w-full px-3 py-4 text-lg font-medium text-gray-700 dark:text-gray-200 hover:text-brand-600 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl">Services</a>
                <a href="index.html#contact" class="block w-full px-3 py-4 text-lg font-bold text-white bg-brand-600 rounded-xl shadow-lg shadow-brand-500/30">Contact Us</a>
            </div>
        </div>
    </nav>

    <!-- Header Section (Updated to match index.html spacing) -->
    <section class="pt-32 pb-12 lg:pt-48 lg:pb-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto text-center relative overflow-hidden">
        <div class="relative z-10">
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-display font-bold text-gray-900 dark:text-white mb-4">
                Our Masterpieces
            </h1>
            <p class="max-w-2xl mx-auto text-lg text-gray-600 dark:text-dark-muted">
                A collection of our finest work, crafted with passion and precision.
            </p>
        </div>
        <!-- Background element -->
        <div class="absolute top-0 right-0 -translate-y-1/2 translate-x-1/2 w-96 h-96 bg-brand-500/10 rounded-full blur-3xl -z-10"></div>
    </section>

    <!-- Filter & Gallery Section -->
    <section class="pb-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto min-h-screen">
        
        <!-- Filter Buttons (Scrollable on mobile) -->
        <div class="sticky top-20 z-30 py-4 bg-white/95 dark:bg-dark-bg/95 backdrop-blur-sm mb-8 -mx-4 px-4 sm:mx-0 sm:px-0">
            <div class="flex gap-3 overflow-x-auto pb-2 no-scrollbar justify-start md:justify-center" id="filterContainer">
                <!-- Filters will be injected here via JS -->
            </div>
        </div>

        <!-- Masonry Grid -->
        <div class="columns-1 sm:columns-2 md:columns-3 lg:columns-3 xl:columns-4 masonry-grid space-y-4" id="galleryGrid">
            <!-- Images will be injected here via JS -->
        </div>

        <!-- Load More / Status -->
        <div class="mt-16 text-center">
            <button id="loadMoreBtn" onclick="loadMoreImages()" class="hidden px-8 py-3 bg-white dark:bg-dark-card text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 rounded-full font-bold hover:border-brand-500 hover:text-brand-600 transition shadow-lg hoverable">
                Load More Designs
            </button>
            <p id="endMessage" class="hidden text-gray-500 dark:text-gray-400 mt-4">You've reached the end of the gallery.</p>
        </div>

    </section>

    <!-- Footer (Identical to Index) -->
    <footer class="relative bg-gray-900 dark:bg-black text-white pt-20 pb-10 overflow-hidden border-t border-gray-800">
        <div class="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
            <div class="absolute -top-24 -right-24 w-96 h-96 bg-brand-600/10 rounded-full blur-3xl"></div>
            <div class="absolute bottom-0 left-0 w-64 h-64 bg-brand-400/10 rounded-full blur-3xl"></div>
        </div>
        <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16">
                <div class="space-y-6">
                    <a href="index.html" class="inline-block hoverable">
                        <img src="assets/img/Sitelogow.png" alt="Propix Lk" class="h-9 w-auto">
                    </a>
                    <p class="text-gray-400 text-sm leading-relaxed max-w-xs">Smart Design. Sharp Pixels.</p>
                    <div class="flex space-x-4">
                        <a href="https://www.facebook.com/share/1Bj9wAdLRN/" class="w-10 h-10 rounded-full bg-gray-800 border border-gray-700 flex items-center justify-center text-gray-400 hover:text-white hover:bg-brand-600 hover:border-brand-500 transition-all duration-300 hoverable group"><i data-lucide="facebook" class="w-5 h-5"></i></a>
                        <a href="https://www.tiktok.com/@propix_lk" class="w-10 h-10 rounded-full bg-gray-800 border border-gray-700 flex items-center justify-center text-gray-400 hover:text-white hover:bg-brand-600 hover:border-brand-500 transition-all duration-300 hoverable group"><i data-lucide="music-2" class="w-5 h-5"></i></a>
                        <a href="https://t.me/propixlk" class="w-10 h-10 rounded-full bg-gray-800 border border-gray-700 flex items-center justify-center text-gray-400 hover:text-white hover:bg-brand-600 hover:border-brand-500 transition-all duration-300 hoverable group"><i data-lucide="send" class="w-5 h-5"></i></a>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-display font-bold mb-6 text-white">Quick Links</h3>
                    <ul class="space-y-4">
                        <li><a href="index.html" class="text-gray-400 hover:text-brand-400 transition hoverable">Home</a></li>
                        <li><a href="index.html#about" class="text-gray-400 hover:text-brand-400 transition hoverable">About Us</a></li>
                        <li><a href="portfolio.html" class="text-gray-400 hover:text-brand-400 transition hoverable">Work</a></li>
                        <li><a href="index.html#services" class="text-gray-400 hover:text-brand-400 transition hoverable">Services</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-display font-bold mb-6 text-white">Other Links</h3>
                    <ul class="space-y-4">
                        <li><a href="portfolio.html" class="text-gray-400 hover:text-brand-400 transition hoverable">Portfolio</a></li>
                        <li><a href="index.html#faq" class="text-gray-400 hover:text-brand-400 transition hoverable">FAQ</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-display font-bold mb-6 text-white">Get in Touch</h3>
                    <div class="space-y-4">
                        <div class="flex items-start gap-4 hoverable">
                            <i data-lucide="mail" class="w-5 h-5 text-brand-400 mt-1"></i>
                            <a href="mailto:propixlk@gmail.com" class="text-gray-300 hover:text-white transition">propixlk@gmail.com</a>
                        </div>
                        <div class="flex items-start gap-4 hoverable">
                            <i data-lucide="message-square" class="w-5 h-5 text-brand-400 mt-1"></i>
                            <a href="https://wa.me/message/JGOBR5KKO5UAF1" class="text-gray-300 hover:text-white transition">Chat with us</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-sm text-gray-500">&copy; 2024 - 2026 <span class="text-brand-400 font-bold">Propix LK</span>. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        lucide.createIcons();

        // Dark Mode Logic
        function toggleDarkMode() {
            document.documentElement.classList.toggle('dark');
        }
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        }

        // Mobile Menu
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');
        btn.addEventListener('click', () => { menu.classList.toggle('hidden'); });

        // Custom Cursor
        const cursor = document.getElementById('customCursor');
        const hoverables = document.querySelectorAll('.hoverable, a, button');
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });
        hoverables.forEach(el => {
            el.addEventListener('mouseenter', () => cursor.classList.add('hovered'));
            el.addEventListener('mouseleave', () => cursor.classList.remove('hovered'));
        });

        /* =========================================
           PORTFOLIO LOGIC FOR 500+ IMAGES
           ========================================= */
        
        // 1. Define your Categories
        const categories = [
            { id: 'all', name: 'All Work' },
            { id: 'social', name: 'Social Media' },
            { id: 'logos', name: 'Logos & Branding' },
            { id: 'print', name: 'Print Media' },
            { id: 'web', name: 'Web Assets' },
            { id: 'illustration', name: 'Illustrations' }
        ];

        /* 2. EASY IMAGE GENERATOR 
           
           UPDATED PATH: assets/img/Designs/
           UPDATED EXTENSION: .jpeg
           
           IMPORTANT: Name your files like this in your folder:
           social-1.jpeg, social-2.jpeg ... social-50.jpeg
           logos-1.jpeg, logos-2.jpeg ...
        */

        const portfolioItems = [];
        
        // Configuration: How many images do you have for each category?
        // Change these numbers based on your actual file count
        const config = {
            social: 5,      // Expects social-1.jpeg to social-50.jpeg
            logos: 30,       // Expects logos-1.jpeg to logos-30.jpeg
            print: 40,
            web: 20,
            illustration: 15
        };

        // Helper to generate the data array automatically
        Object.keys(config).forEach(cat => {
            for (let i = 1; i <= config[cat]; i++) {
                portfolioItems.push({
                    id: `${cat}-${i}`,
                    category: cat,
                    // UPDATED: Path and Extension
                    src: `assets/img/Designs/${cat}-${i}.jpeg`, 
                    alt: `${cat} Design Sample ${i}`
                });
            }
        });

        // Shuffle array so "All" view looks mixed
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        // Initial shuffle
        shuffle(portfolioItems);


        // 3. Rendering Variables
        let currentCategory = 'all';
        let itemsToShow = 20; // How many to show initially per batch
        let currentlyShownCount = 0;
        let filteredItems = [];

        const galleryGrid = document.getElementById('galleryGrid');
        const loadMoreBtn = document.getElementById('loadMoreBtn');
        const endMessage = document.getElementById('endMessage');
        const filterContainer = document.getElementById('filterContainer');

        // 4. Initialize Filters
        function initFilters() {
            categories.forEach(cat => {
                const button = document.createElement('button');
                button.className = `filter-btn whitespace-nowrap px-6 py-2 rounded-full border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 font-medium text-sm transition-all hover:border-brand-500 hover:text-brand-500 hoverable ${cat.id === 'all' ? 'active' : ''}`;
                button.textContent = cat.name;
                button.onclick = () => setCategory(cat.id, button);
                filterContainer.appendChild(button);
            });
        }

        // 5. Filter Logic
        function setCategory(catId, btnElement) {
            currentCategory = catId;
            
            // Update UI
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            btnElement.classList.add('active');

            // Reset Rendering
            currentlyShownCount = 0;
            galleryGrid.innerHTML = ''; // Clear grid
            
            // Filter Data
            if (catId === 'all') {
                filteredItems = portfolioItems;
            } else {
                filteredItems = portfolioItems.filter(item => item.category === catId);
            }

            loadMoreImages();
        }

        // 6. Render Images (The "Load More" Engine)
        function loadMoreImages() {
            const nextBatch = filteredItems.slice(currentlyShownCount, currentlyShownCount + itemsToShow);
            
            if (nextBatch.length === 0) {
                loadMoreBtn.classList.add('hidden');
                if(currentlyShownCount > 0) endMessage.classList.remove('hidden');
                return;
            }

            nextBatch.forEach(item => {
                const div = document.createElement('div');
                div.className = 'masonry-item break-inside-avoid mb-4 animate-fade-in-up';
                
                // HTML for the image card
                // oncontextmenu="return false" disables right click
                // Added better onerror handling
                div.innerHTML = `
                    <div class="group relative rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-800">
                        <div class="img-loading absolute inset-0 z-0"></div>
                        <img 
                            src="${item.src}" 
                            alt="${item.alt}" 
                            loading="lazy"
                            oncontextmenu="return false;"
                            onload="this.previousElementSibling.style.display='none'"
                            onerror="this.onerror=null; this.src='https://via.placeholder.com/400x500?text=Design+Not+Found';"
                            class="protected-image relative z-10 w-full h-auto object-cover transform transition-transform duration-500 group-hover:scale-105"
                        >
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-20 flex items-end p-4 pointer-events-none">
                            <span class="text-white font-medium text-sm capitalize badge bg-brand-600 px-3 py-1 rounded-full">${item.category}</span>
                        </div>
                    </div>
                `;
                galleryGrid.appendChild(div);
            });

            currentlyShownCount += nextBatch.length;

            // Check if we need to hide the button
            if (currentlyShownCount >= filteredItems.length) {
                loadMoreBtn.classList.add('hidden');
                endMessage.classList.remove('hidden');
            } else {
                loadMoreBtn.classList.remove('hidden');
                endMessage.classList.add('hidden');
            }
        }

        // Initialize Page
        document.addEventListener('DOMContentLoaded', () => {
            initFilters();
            setCategory('all', document.querySelector('.filter-btn')); // Triggers initial load
        });

    </script>
</body>
</html>